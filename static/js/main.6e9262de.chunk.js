(this["webpackJsonpsarcophagus-governence-app"]=this["webpackJsonpsarcophagus-governence-app"]||[]).push([[0],{139:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"distributor","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]')},140:function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"sender","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"OnStake","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"sender","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"OnUnstake","type":"event"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"stakeValue","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalStaked","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalStakers","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"contract IERC20","name":"_sarcoToken","type":"address"}],"name":"initialize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"stake","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"unstake","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_blockNumber","type":"uint256"}],"name":"totalStakedAt","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"},{"internalType":"uint256","name":"_blockNumber","type":"uint256"}],"name":"stakeValueAt","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}]')},141:function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"sarco","outputs":[{"internalType":"contract Sarco","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"sarcoStaking","outputs":[{"internalType":"contract SarcoStaking","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"symbol","type":"string"},{"internalType":"contract SarcoStaking","name":"_sarcoStaking","type":"address"},{"internalType":"contract Sarco","name":"_sarco","type":"address"}],"name":"initialize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"},{"internalType":"uint256","name":"_blockNumber","type":"uint256"}],"name":"balanceOfAt","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_blockNumber","type":"uint256"}],"name":"totalSupplyAt","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]')},147:function(e){e.exports=JSON.parse('{"name":"sarcophagus-governence-app","version":"0.1.0","private":true,"dependencies":{"@craco/craco":"^6.1.1","@tailwindcss/forms":"^0.2.1","@testing-library/jest-dom":"^5.11.9","@testing-library/react":"^11.2.5","@testing-library/user-event":"^12.8.3","@tippyjs/react":"^4.2.4","@walletconnect/ethereum-provider":"^1.7.8","classnames":"^2.2.6","ethers":"^5.0.32","numeral":"^2.0.6","react":"^17.0.1","react-dom":"^17.0.1","react-scripts":"4.0.3","react-toastify":"^7.0.3","web-vitals":"^1.1.1","web3modal":"^1.9.3"},"scripts":{"start":"REACT_APP_GIT_HASH=`git rev-parse --short HEAD` craco start","build":"REACT_APP_GIT_HASH=`git rev-parse --short HEAD` craco build","test":"craco test","eject":"react-scripts eject"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"@tailwindcss/postcss7-compat":"^2.0.3","autoprefixer":"^9.8.6","dotenv":"^8.2.0","install":"^0.13.0","npm":"^7.6.3","postcss":"^7.0.35","tailwindcss":"npm:@tailwindcss/postcss7-compat@^2.0.3"},"engines":{"node":"15.11"},"homepage":"https://govern.sarcophagus.io/"}')},167:function(e,t,n){},169:function(e,t){},170:function(e,t){},189:function(e,t){},230:function(e,t,n){"use strict";n.r(t);var a,r=n(7),i=n.n(r),s=n(83),c=n.n(s),o=(n(167),n(20)),u=function(e){var t=Object(r.useState)(),n=Object(o.a)(t,2),a=n[0],i=n[1];return Object(r.useEffect)((function(){e===parseInt("1",10)&&i({sarcophagusToken:"0x7697B462A7c4Ff5F8b55BDBC2F4076c2aF9cF51A",SarcoStakingProxy:"0xBD53450702A341F356d609d76044DB8a06E200B3",SarcoVotingRightsProxy:"0xFB6A34a73Fd8Ea586f8afb82685F4e9A4080f1E8"})}),[e]),a},l=Object(r.createContext)(null),d=function(){return Object(r.useContext)(l)},p=n(54),b=n(75),y=n(139),f=n(140),m=n(141),j=n(19),O=function(e,t){var n=d().state,a=n.provider,i=n.account,s=Object(r.useState)(j.a.from(0)),c=Object(o.a)(s,2),u=c[0],l=c[1],p=Object(r.useState)(j.a.from(0)),b=Object(o.a)(p,2),y=b[0],f=b[1];return Object(r.useEffect)((function(){a&&(null===e||void 0===e||e.totalSupply().then((function(e){l(e)})).catch((function(e){return console.error("Error total supply",e)})))}),[a,e,t]),Object(r.useEffect)((function(){a&&t&&i&&(null===e||void 0===e||e.balanceOf(i).then((function(e){f(e)})).catch((function(e){return console.error("Error balance",e)})))}),[a,e,t,i]),{totalSupply:u,vrBalance:y}},v=n(79),h=n.n(v),x=function(e,t,n){var a=d().state.account,i=Object(r.useState)(j.a.from(0)),s=Object(o.a)(i,2),c=s[0],u=s[1];return Object(r.useEffect)((function(){a&&e&&t&&t.allowance(a,e.address).then((function(e){u(e)})).catch((function(e){return console.error(e)}))}),[a,e,t,n]),c},T=n(6),g=function(){(a=Object(r.createContext)()).displayName="Data Provider";var e=a.Provider;return function(t){var n=t.children,a=function(){var e=d().state,t=e.chainId,n=e.signerOrProvider,a=u(t),i=Object(r.useState)(),s=Object(o.a)(i,2),c=s[0],l=s[1];return Object(r.useEffect)((function(){if(t&&a&&n)try{var e=new b.a(a.sarcophagusToken,y,n);l(e)}catch(r){console.error("Token Contract: ",r)}}),[t,n,a]),c}(),i=function(){var e=d().state,t=e.chainId,n=e.signerOrProvider,a=u(t),i=Object(r.useState)(),s=Object(o.a)(i,2),c=s[0],l=s[1];return Object(r.useEffect)((function(){if(t&&a&&n)try{var e=new b.a(a.SarcoStakingProxy,f,n);l(e)}catch(r){console.error("Staking Contract: ",r)}}),[t,n,a]),c}(),s=function(){var e=d().state,t=e.chainId,n=e.signerOrProvider,a=u(t),i=Object(r.useState)(),s=Object(o.a)(i,2),c=s[0],l=s[1];return Object(r.useEffect)((function(){if(t&&a&&n)try{var e=new b.a(a.SarcoVotingRightsProxy,m,n);l(e)}catch(r){console.error("Voting Rights Contract: ",r)}}),[t,n,a]),c}(),c=function(){var e=Object(r.useState)(0),t=Object(o.a)(e,2),n=t[0],a=t[1],i=d().state.provider;return Object(r.useEffect)((function(){if(i){i.getBlockNumber().then((function(e){a(e)})).catch(console.error);var e=function(e){a(e)};return i.on("block",e),function(){i.removeListener("block",e)}}}),[i]),n}(),l=function(e,t){var n=d().state.account,a=Object(r.useState)(j.a.from(0)),i=Object(o.a)(a,2),s=i[0],c=i[1];return Object(r.useEffect)((function(){n&&e&&e.balanceOf(n).then((function(e){c(e)})).catch(console.error)}),[n,e,t]),s}(a,c),v=x(i,a,c),h=O(s,c),g=h.totalSupply,A=h.vrBalance,_={sarcophagusTokenContract:a,sarcophagusStakingContract:i,sarcophagusVotingRightsContract:s,balance:l,allowance:v,vrBalance:A,totalSupply:g,votingRights:function(e,t){if(null===e||void 0===e?void 0:e.isZero())return"0 %";var n=parseFloat(p.utils.formatEther(e)),a=parseFloat(p.utils.formatEther(t));return"".concat((n/a*100).toFixed(9)," %")}(A,g)};return Object(T.jsx)(e,{value:_,children:n})}}(),A=function(){return Object(r.useContext)(a)},_=n(52),S=n.n(_),E=function(e){var t=e.varient,n=e.addClassnames,a=e.label;return"heading-one"===t?Object(T.jsx)("div",{className:S()("text-xl text-white",n),children:a}):"heading-two"===t?Object(T.jsx)("div",{className:S()("text-gray-400 font-normal text-sm",n),children:a}):Object(T.jsx)("div",{className:S()("font-normal text-base text-white",n),children:a})},C=function(e){var t=e.addClassnames,n=e.children;return Object(T.jsx)("div",{className:S()("border-t border-b border-gray-500 w-full flex justify-around items-center flex-wrap gap-4","",t),children:n})},w=function(e){var t=e.children;return Object(T.jsx)("div",{className:"flex flex-col items-center whitespace-no-wrap w-48",children:t})},P=function(e){var t=e.children;return Object(T.jsx)("div",{className:"",children:t})},R=function(){var e=A(),t=e.vrBalance,n=e.totalSupply,a=e.votingRights;return Object(T.jsxs)(C,{addClassnames:"mt-6 py-8 flex",children:[Object(T.jsxs)(w,{children:[Object(T.jsx)(E,{varient:"heading-two",label:"Total Voting Rights"}),Object(T.jsxs)(P,{children:[p.utils.formatEther(n)," "]})]}),Object(T.jsxs)(w,{children:[Object(T.jsx)(E,{varient:"heading-two",label:"My Voting Rights"}),Object(T.jsxs)(P,{children:[p.utils.formatEther(t)," "]})]}),Object(T.jsxs)(w,{children:[Object(T.jsx)(E,{varient:"heading-two",label:"My Voting Power"}),Object(T.jsxs)(P,{children:[a," "]})]})]})},N=function(e){var t=e.varient,n=e.children;return"with-border"===t?Object(T.jsx)("div",{className:S()("border-b border-l border-r w-full border-gray-500 py-16 px-8 mb-8 flex justify-around flex-wrap gap-12"),children:n}):Object(T.jsx)("div",{className:S()("pt-8"),children:n})},k=n.p+"static/media/logo.46d0239c.png",I=function(e){var t=e.currency,n=e.value,a=e.setValue,r=e.balance,i=e.decimals,s=e.icon,c=e.balanceName,o=!(h()(p.utils.formatEther(r)).value()>0);return Object(T.jsxs)("div",{className:"flex mb-4 text-sm",children:[Object(T.jsxs)("div",{className:"mr-4 flex flex-col items-center w-10",children:[Object(T.jsx)("div",{className:"uppercase mb-2",children:t}),Object(T.jsx)("div",{children:Object(T.jsx)("img",{src:s,alt:"icon",className:"w-8"})})]}),Object(T.jsxs)("div",{className:"w-full",children:[Object(T.jsx)("div",{className:"flex justify-between mb-2 text-gray-400",children:Object(T.jsxs)("div",{className:"flex flex-wrap justify-end w-full",children:[Object(T.jsxs)("div",{children:[c," Balance:"]}),Object(T.jsx)("div",{className:"ml-1",children:p.utils.formatEther(r)})]})}),Object(T.jsx)("input",{type:"number",step:function(e){return"0.".concat(Array(e).fill(0).join("")).slice(0,-1)+"1"}(i),disabled:o,required:!0,name:t,id:t,value:n,onChange:function(e){return function(t){var n="",a=t.target.value;a&&(n=Math.min(a,h()(p.utils.formatEther(r)).value())),e(n)}}(a),min:"1",max:p.utils.formatEther(r),className:"w-full border-2 border-gray-500 ".concat(o?"text-gray-400":"text-white"," bg-gray-900"),placeholder:p.utils.formatEther(r)})]})]})},D=n(43),F=n(158),B=function(e){var t=e.children,n=e.icon,a=e.disabled,r=e.className,i=void 0===r?"":r,s=Object(F.a)(e,["children","icon","disabled","className"]);return Object(T.jsx)("button",Object(D.a)(Object(D.a)({},s),{},{disabled:a,className:"border-2 border-white p-2 min-w-full ".concat(a?"opacity-50 cursor-not-allowed":""," ").concat(i),children:Object(T.jsxs)("div",{className:"flex justify-center text-sm items-center",children:[Object(T.jsx)("div",{children:t}),n&&Object(T.jsx)("div",{className:"ml-3",children:Object(T.jsx)("img",{src:n,alt:"icon"})})]})}))},M=n(40),V=n(27),K=function(e){var t=d().state.account,n=A(),a=n.balance,i=n.allowance,s=n.sarcophagusTokenContract,c=n.sarcophagusStakingContract,u=Object(r.useState)(0),l=Object(o.a)(u,2),b=l[0],y=l[1],f=Object(r.useState)(j.a.from(0)),m=Object(o.a)(f,2),O=m[0],v=m[1],h=Object(r.useState)(e),x=Object(o.a)(h,2),T=x[0],g=x[1],_=function(){var e=Object(r.useState)(!1),t=Object(o.a)(e,2),n=t[0],a=t[1];return{contractCall:Object(r.useCallback)((function(e,t,n,r,i,s,c){var u;a(!0),e.apply(void 0,Object(M.a)(t)).then((function(e){return u=V.b.info(n,{autoClose:!1,closeOnClick:!1,draggable:!1}),Promise.all([e.wait(),u])})).then((function(e){var t=Object(o.a)(e,2),n=t[0],u=t[1];a(!1),V.b.dismiss(u),0===n.status?V.b.error(r):1===n.status?(V.b.success(i),s&&s()):V.b.error("Not sure what happened with that transaction"),c&&c()})).catch((function(e){console.error(e),a(!1),V.b.dismiss(u),V.b.error("There was an error! Check your browser's console logs for more details.")}))}),[]),pending:n}}(),S=_.contractCall,E=_.pending,C=Object(r.useState)([]),w=Object(o.a)(C,2),P=w[0],R=w[1],N=Object(r.useState)(!1),k=Object(o.a)(N,2),I=k[0],D=k[1];Object(r.useEffect)((function(){D(!E&&O.gt(0))}),[E,O]),Object(r.useEffect)((function(){y(0)}),[t]),Object(r.useEffect)((function(){v(p.utils.parseUnits((b||0).toFixed(18),18))}),[b]),Object(r.useEffect)((function(){i.lt(O)?(g("Approve SARCO"),s&&R([s.approve,[null===c||void 0===c?void 0:c.address,j.a.from(2).pow(j.a.from(256)).sub(j.a.from(1))],"Approving SARCO...","SARCO approval failed!","SARCO approval made!"])):(g("Stake"===e?"Increase Voting Rights":"Decrease Voting Rights"),c&&R("Stake"===e?[c.stake,[O,{}],"Staking SARCO...","Staking failed!","Staking made!",function(){y(0),R([])}]:[c.unstake,[O,{}],"Unstaking SARCO...","Unstaking failed!","Unstaking made!",function(){y(0),R([])}]))}),[i,O,c,s,e,t]);return{balance:a,buttonText:T,buttonEnabled:I,calls:function(e){e.preventDefault(),S.apply(void 0,Object(M.a)(P))},sarco:b,setSarco:y}},H=function(){var e=K("Stake"),t=e.balance,n=e.buttonText,a=e.buttonEnabled,r=e.calls,i=e.sarco,s=e.setSarco;return Object(T.jsxs)("form",{onSubmit:r,className:"w-72",children:[Object(T.jsx)("div",{className:"mt-2 flex flex-col",children:Object(T.jsx)(I,{currency:"sarco",balanceName:"SARCO",value:i,setValue:s,balance:t,decimals:18,icon:k})}),Object(T.jsx)("div",{className:"text-sm text-gray-400",children:"Stake SARCO to increase your Voting Rights balance"}),Object(T.jsx)("div",{className:"mt-4",children:Object(T.jsx)(B,{type:"submit",disabled:!a,children:n})})]})},L=function(){var e=K("Unstake"),t=e.buttonText,n=e.buttonEnabled,a=e.calls,r=e.sarco,i=e.setSarco,s=A().vrBalance;return Object(T.jsxs)("form",{onSubmit:a,className:"w-72",children:[Object(T.jsx)("div",{className:"mt-2 flex flex-col",children:Object(T.jsx)(I,{currency:"sarco",balanceName:"VR",value:r,setValue:i,balance:s,decimals:18,icon:k})}),Object(T.jsx)("div",{className:"text-sm text-gray-400",children:"Unstake SARCO to decrease your Voting Rights balance"}),Object(T.jsx)("div",{className:"mt-4",children:Object(T.jsx)(B,{type:"submit",disabled:!n,children:t})})]})},U=function(){return Object(T.jsxs)(N,{varient:"with-border",children:[Object(T.jsx)(H,{}),Object(T.jsx)(L,{})]})},W=function(e){var t=e.type,n=e.address,a=d().state.chainId,r=4===parseInt(a,10)?"rinkeby.":"",i="https://".concat(r,"etherscan.io/address/").concat(n);return Object(T.jsxs)("a",{href:i,target:"_blank",rel:"noreferrer noopener",children:["View ",t," Contract on Etherscan"]})},G=function(){var e=d().state.chainId,t=u(e);return Object(T.jsxs)("div",{className:"flex-grow text-center",children:[Object(T.jsx)(E,{varient:"heading-one",label:"Sarcophagus Governance"}),Object(T.jsxs)("div",{className:"flex justify-center",children:[Object(T.jsx)("div",{className:"mt-2 underline text-gray-400 text-sm mr-2",children:Object(T.jsx)(W,{type:"Staking",address:null===t||void 0===t?void 0:t.SarcoStakingProxy})}),Object(T.jsx)("div",{className:"mt-1",children:"/"}),Object(T.jsx)("div",{className:"mt-2 underline text-gray-400 text-sm ml-2",children:Object(T.jsx)(W,{type:"Voting Rights",address:null===t||void 0===t?void 0:t.SarcoVotingRightsProxy})})]}),Object(T.jsx)(R,{}),Object(T.jsx)(U,{})]})},J=n(147),Y=function(){var e=d().state.connectionType;return Object(T.jsx)("div",{className:"text-gray-400 text-xs my-4",children:Object(T.jsxs)("div",{className:"flex justify-between pb-6",children:[Object(T.jsxs)("div",{children:["v",J.version+"+f8ac224"]}),Object(T.jsx)("div",{children:e})]})})},X=function(e,t,n,a){if(e.length<=t)return e;var r=t-(n=n||"...").length,i=Math.ceil(a||r/2+1),s=Math.floor(r/2-1);return e.substr(0,i)+n+e.substr(e.length-s)},Z=n.p+"static/media/icon.081a5d9a.svg",z=function(){var e=d(),t=e.state.account,n=e.connect;return t?Object(T.jsxs)("div",{className:"flex justify-center items-center w-full",children:[X(t,19,"...",7),Object(T.jsx)("img",{src:Z,alt:"",className:"ml-6"})]}):Object(T.jsx)("button",{className:"underline text-center w-full",onClick:function(){return n()},children:"Connect Web3 Account"})},q=n.p+"static/media/wallet.7d4fae45.svg",Q=function(){return Object(T.jsxs)("div",{className:"flex items-center justify-between pt-2 mb-16",children:[Object(T.jsx)("div",{className:"w-24 p-1",children:Object(T.jsx)("img",{src:k,alt:"logo"})}),Object(T.jsxs)("div",{className:"flex items-center justify-center",children:[Object(T.jsx)("div",{children:Object(T.jsx)("img",{src:q,alt:"wallet",className:""})}),Object(T.jsx)("div",{className:"ml-3 text-sm text-gray-300 ",children:Object(T.jsx)(z,{})})]})]})},$=function(e){var t=e.children;return Object(T.jsx)("div",{className:"container min-h-screen flex flex-col justify-between",children:t})},ee=function(){return Object(T.jsxs)($,{children:[Object(T.jsx)(Q,{}),Object(T.jsx)(G,{}),Object(T.jsx)(Y,{})]})},te=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,239)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),i(e),s(e)}))},ne=n(1),ae=n.n(ne),re=n(10),ie=n(148),se=n.n(ie),ce="DISCONNECT_WALLET",oe="SET_INJECTED_PROVIDER",ue="SET_LOCAL_PROVIDER",le="SET_FALLBACK_PROVIDER",de={providerOptions:{walletconnect:{package:n(156).a,options:{infuraId:"800746c8737e4f34bb772ade4532ab83"}}}},pe=n(47),be=n(74),ye=function(){var e=Object(re.a)(ae.a.mark((function e(t){var n,a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SARCO_VOTING_RIGHTS_PROXY_ADDRESS:"0xFB6A34a73Fd8Ea586f8afb82685F4e9A4080f1E8",REACT_APP_SARCO_STAKING_PROXY_ADDRESS:"0xBD53450702A341F356d609d76044DB8a06E200B3",REACT_APP_ETHERSCAN_KEY:"G61W8715WK65NCMJPFXU8EBQ5VDTT4KCVJ",REACT_APP_ALCHEMY_KEY:"bjrgvDbGZBUJ_iZFFd1vIqUWzgrwKWeg",REACT_APP_SARCO_TOKEN_ADDRESS:"0x7697B462A7c4Ff5F8b55BDBC2F4076c2aF9cF51A",REACT_APP_GIT_HASH:"f8ac224",REACT_APP_INFURA_KEY:"800746c8737e4f34bb772ade4532ab83",REACT_APP_CHAIN_ID:"1"}).REACT_APP_LOCAL_CHAIN_ID,!e.t0){e.next=7;break}return e.next=4,t.getNetwork();case 4:e.t1=e.sent.chainId,e.t2=parseInt(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SARCO_VOTING_RIGHTS_PROXY_ADDRESS:"0xFB6A34a73Fd8Ea586f8afb82685F4e9A4080f1E8",REACT_APP_SARCO_STAKING_PROXY_ADDRESS:"0xBD53450702A341F356d609d76044DB8a06E200B3",REACT_APP_ETHERSCAN_KEY:"G61W8715WK65NCMJPFXU8EBQ5VDTT4KCVJ",REACT_APP_ALCHEMY_KEY:"bjrgvDbGZBUJ_iZFFd1vIqUWzgrwKWeg",REACT_APP_SARCO_TOKEN_ADDRESS:"0x7697B462A7c4Ff5F8b55BDBC2F4076c2aF9cF51A",REACT_APP_GIT_HASH:"f8ac224",REACT_APP_INFURA_KEY:"800746c8737e4f34bb772ade4532ab83",REACT_APP_CHAIN_ID:"1"}).REACT_APP_LOCAL_CHAIN_ID,10),e.t0=e.t1===e.t2;case 7:return n=e.t0,a=t.getSigner(),e.next=11,a.getAddress();case 11:if(e.t3=e.sent,e.t4=a,e.t5=t,!n){e.next=18;break}e.t6="localhost",e.next=21;break;case 18:return e.next=20,t.getNetwork();case 20:e.t6=e.sent.name;case 21:return e.t7=e.t6,e.next=24,t.getNetwork();case 24:return e.t8=e.sent.chainId,e.abrupt("return",{account:e.t3,signerOrProvider:e.t4,provider:e.t5,connectionType:"injected provider",network:e.t7,chainId:e.t8});case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fe=function(e){return new Promise((function(t,n){e.connect().then((function(e){return ye(new pe.a.providers.Web3Provider(e))})).then(t).catch(n)}))},me=function(){var e={infura:"800746c8737e4f34bb772ade4532ab83",alchemy:"bjrgvDbGZBUJ_iZFFd1vIqUWzgrwKWeg",etherscan:"G61W8715WK65NCMJPFXU8EBQ5VDTT4KCVJ"},t=pe.a.providers.getNetwork(parseInt("1",10)),n=Object(be.getDefaultProvider)(t,e);return{provider:n,signerOrProvider:n,connectionType:"readonly provider",network:n.network.name,chainId:n.network.chainId}},je=function(){return[].concat([],[parseInt("1",10)])},Oe=new se.a(de),ve={account:null,signerOrProvider:null,connectionType:"not connected",network:"",chainId:0,provider:null,isProviderLoading:!1},he=function(e,t){switch(t.type){case oe:var n=t.payload,a=n.account,r=n.signerOrProvider,i=n.provider,s=n.connectionType,c=n.network,o=n.chainId;return Object(D.a)(Object(D.a)({},e),{},{account:a,signerOrProvider:r,provider:i,connectionType:s,network:c,chainId:o,isProviderLoading:!1});case ue:case le:var u=t.payload,l=u.provider,d=u.connectionType,p=u.network,b=u.chainId,y=u.signerOrProvider;return Object(D.a)(Object(D.a)({},ve),{},{provider:l,connectionType:d,network:p,chainId:b,signerOrProvider:y,isProviderLoading:!1});case ce:return Oe.clearCachedProvider(),Object(D.a)({},ve);default:return e}};function xe(e){var t=e.children,n=Object(r.useReducer)(he,Object(D.a)(Object(D.a)({},ve),{},{isProviderLoading:!0})),a=Object(o.a)(n,2),i=a[0],s=a[1],c=Object(r.useCallback)(Object(re.a)(ae.a.mark((function e(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Oe.clearCachedProvider(),Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SARCO_VOTING_RIGHTS_PROXY_ADDRESS:"0xFB6A34a73Fd8Ea586f8afb82685F4e9A4080f1E8",REACT_APP_SARCO_STAKING_PROXY_ADDRESS:"0xBD53450702A341F356d609d76044DB8a06E200B3",REACT_APP_ETHERSCAN_KEY:"G61W8715WK65NCMJPFXU8EBQ5VDTT4KCVJ",REACT_APP_ALCHEMY_KEY:"bjrgvDbGZBUJ_iZFFd1vIqUWzgrwKWeg",REACT_APP_SARCO_TOKEN_ADDRESS:"0x7697B462A7c4Ff5F8b55BDBC2F4076c2aF9cF51A",REACT_APP_GIT_HASH:"f8ac224",REACT_APP_INFURA_KEY:"800746c8737e4f34bb772ade4532ab83",REACT_APP_CHAIN_ID:"1"}).REACT_APP_LOCAL_PROVIDER_URL,e.next=11;break;case 6:e.t2=e.sent,e.t3={type:e.t1,payload:e.t2},(0,e.t0)(e.t3),e.next=12;break;case 11:s({type:le,payload:me()});case 12:case"end":return e.stop()}}),e)}))),[]),u=Object(r.useCallback)(Object(re.a)(ae.a.mark((function e(){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe(Oe);case 2:t=e.sent,je().includes(t.chainId)?s({type:oe,payload:t}):c();case 4:case"end":return e.stop()}}),e)}))),[c]),d=Object(r.useCallback)((function(){Object(V.b)("Account disconnected",{toastId:"disconnected"}),c()}),[c]);!function(e,t,n){var a=Object(r.useState)(null),i=Object(o.a)(a,2),s=i[0],c=i[1];Object(r.useEffect)((function(){e.on("connect",(function(e){je().includes(parseInt(e.chainId))?(c(e),V.b.dark("Connected",{toastId:"connected"})):(Object(V.b)("Switch to a supported chain: ".concat(je().join(", ")),{toastId:"switchChain"}),t())}))}),[e,t]),Object(r.useEffect)((function(){if(s)return s.on("chainChanged",(function(e){je().includes(parseInt(e))?(V.b.dark("Chain changed: ".concat(e),{toastId:"connected"}),n()):(V.b.dark("Chain changed: Switch to a supported chain: ".concat(je().join(", ")),{toastId:"switchChain"}),t())})),s.on("accountsChanged",(function(e){e.length?(V.b.dark("Account changed",{toastId:"connected"}),n()):(V.b.dark("Account access revoked",{toastId:"accessChanged"}),t(),c(null))})),s.on("disconnect",(function(){V.b.dark("Account disconnected",{toastId:"disconnected"}),t(),c(null)})),function(){s.isWalletConnect?(s.off("accountsChanged"),s.off("chainChanged"),s.off("disconnect")):s.removeAllListeners()}}),[s,e,t,n])}(Oe,c,u);var p=Object(r.useCallback)((function(){Oe.cachedProvider&&u()}),[u]);Object(r.useEffect)((function(){return p()}),[p]);var b=Object(r.useMemo)((function(){return{state:i,connect:u,disconnect:d}}),[i,u,d]);return Object(T.jsx)(l.Provider,{value:b,children:t})}c.a.render(Object(T.jsx)(i.a.StrictMode,{children:Object(T.jsx)(xe,{children:Object(T.jsxs)(g,{children:[Object(T.jsx)(V.a,{closeButton:!0,position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,rtl:!1,closeOnClick:!0,pauseOnFocusLoss:!0,draggable:!0}),Object(T.jsx)(ee,{})]})})}),document.getElementById("root")),te()}},[[230,1,2]]]);
//# sourceMappingURL=main.6e9262de.chunk.js.map